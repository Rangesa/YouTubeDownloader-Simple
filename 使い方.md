# YouTube Batch Downloader - 使い方ガイド

## 📦 2つのバージョン

このツールには2つのバージョンがあります：

### 1. **ytdl.exe** - Cookie版（大量ダウンロード用）

- **用途**: プレイリストやチャンネルの動画を大量にダウンロード
- **特徴**: デフォルトでChromeのCookieを使用
- **メリット**: YouTubeのBot対策を回避できる
- **デメリット**: Chromeを終了する必要がある（Cookieファイルがロックされるため）

### 2. **ytdl-simple.exe** - Cookie無し版（単発ダウンロード用）

- **用途**: 単発の動画ダウンロード
- **特徴**: デフォルトでCookieを使用しない
- **メリット**: ブラウザを終了する必要がない、すぐ使える
- **デメリット**: 大量ダウンロード時にBot判定される可能性がある

---

## 🚀 使い方

### **ytdl-simple.exe（推奨：初心者向け）**

#### 単発の動画をダウンロード

1. `ytdl-simple.exe` をダブルクリック
2. URLを入力（例: `https://www.youtube.com/watch?v=dQw4w9WgXcQ`）
3. 品質を選択（Enter = 最高画質）
4. ダウンロード開始

```
URL: https://www.youtube.com/watch?v=dQw4w9WgXcQ
品質: [1] 最高画質（デフォルト）
```

#### プレイリストをダウンロード

1. `ytdl-simple.exe` をダブルクリック
2. プレイリストのURLを入力
3. 「プレイリスト全体をダウンロードしますか？」に `y` と入力

⚠️ **注意**: 大量ダウンロードの場合、Bot判定される可能性があります。
その場合は `ytdl.exe` を使用してください。

---

### **ytdl.exe（大量ダウンロード用）**

#### 事前準備

1. **Chromeを完全に終了**してください
   - タスクマネージャーで `chrome.exe` プロセスが残っていないか確認
2. Chromeで事前にYouTubeにログインしておく（Cookie作成のため）

#### チャンネルの全動画をダウンロード

1. `ytdl.exe` をダブルクリック
2. チャンネルURLを入力
   ```
   URL: https://www.youtube.com/@ponkotsu_rice_uw/videos
   ```
3. 品質を選択
4. ダウンロード開始

#### プレイリストをダウンロード

```
URL: https://www.youtube.com/playlist?list=PLxxxxxx
プレイリスト全体をダウンロード: y
```

#### エラーが発生した場合

**Cookieエラーが出た場合**:
```
ERROR: Could not copy Chrome cookie database
```

**解決方法**:
1. Chromeを完全に終了
2. タスクマネージャーで `chrome.exe` を全て終了
3. 再実行

または、別のブラウザを使用：
```bash
ytdl.exe --cookies firefox
ytdl.exe --cookies edge
```

---

## 📁 ファイルの保存先

ダウンロードしたファイルは**exeと同じフォルダ**に保存されます：

```
C:\your\folder\
├── ytdl.exe
├── ytdl-simple.exe
├── downloaded.txt          ← アーカイブファイル（自動作成）
├── 動画タイトル1-ID1.mp4   ← ダウンロードした動画
├── 動画タイトル2-ID2.mp4
└── ...
```

---

## ♻️ ダウンロード済み動画のスキップ

両方のバージョンで、**ダウンロード済み動画は自動的にスキップ**されます。

### 仕組み

- `downloaded.txt` に動画IDが記録される
- 同じ動画は二度とダウンロードしない

### アーカイブをリセット

全て再ダウンロードしたい場合：

1. `downloaded.txt` を削除
2. ツールを再実行

または：
```bash
ytdl.exe --no-archive
ytdl-simple.exe --no-archive
```

---

## 🎨 品質プリセット

| 番号 | プリセット | 説明 |
|------|-----------|------|
| 1 | 最高画質（4K対応） | デフォルト、アーカイブ用 |
| 2 | 最高音質（MP3抽出） | 音楽、ポッドキャスト用 |
| 3 | 最低画質（プレビュー用） | 確認用 |
| 4 | 最小容量（容量優先） | ストレージ節約 |

---

## 🔧 コマンドラインオプション

### ytdl.exe（Cookie版）

```bash
# 基本
ytdl.exe <URL>

# 別のブラウザを使用
ytdl.exe --cookies firefox <URL>
ytdl.exe --cookies edge <URL>

# Cookieを使わない（非推奨）
ytdl.exe --no-cookies <URL>

# 最高音質でダウンロード
ytdl.exe -q max-audio <URL>

# 字幕も保存
ytdl.exe -s <URL>
```

### ytdl-simple.exe（Cookie無し版）

```bash
# 基本（Cookie無し）
ytdl-simple.exe <URL>

# Cookieを使いたい場合（明示的に指定）
ytdl-simple.exe --cookies chrome <URL>

# その他のオプションはytdl.exeと同じ
ytdl-simple.exe -q max-audio <URL>
```

---

## 📊 使い分けガイド

### ytdl-simple.exeを使う場合

✅ 単発の動画ダウンロード
✅ すぐにダウンロードしたい
✅ ブラウザを閉じたくない
✅ 5本以下の動画

### ytdl.exeを使う場合

✅ プレイリスト全体のダウンロード
✅ チャンネルの全動画ダウンロード
✅ 10本以上の大量ダウンロード
✅ Bot判定を回避したい

---

## ❓ FAQ

### Q1: どちらを使えばいいですか？

**A**: 初心者は `ytdl-simple.exe` から始めてください。Bot判定エラーが出たら `ytdl.exe` に切り替えてください。

### Q2: Cookie版でエラーが出ます

**A**: Chromeを完全に終了してください。タスクマネージャーで `chrome.exe` プロセスを確認してください。

### Q3: ダウンロードした動画が見つかりません

**A**: exeファイルと同じフォルダを確認してください。`downloaded.txt` が作成されていれば成功しています。

### Q4: 何度も同じ動画がダウンロードされます

**A**: `downloaded.txt` が削除されていないか確認してください。アーカイブ機能が有効になっているか確認してください。

### Q5: Bot判定されました

**A**: `ytdl.exe`（Cookie版）を使用してください。Chromeを終了してから実行してください。

---

## 📝 ライセンス

MIT License

---

**Made with ❤️ by Rust & yt-dlp**
